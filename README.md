### Полное описание проекта "MakarTXT - Текстовый менеджер"

---

#### **1. Обзор проекта**
**MakarTXT** — это локальное веб-приложение, предназначенное для управления текстовым контентом, файлами и загрузки видео с YouTube. Оно сочетает в себе функции текстового редактора, файлового менеджера и YouTube-загрузчика, предоставляя пользователю единую платформу для работы с цифровым контентом. Приложение ориентировано на пользователей, которым требуется сохранять заметки, обмениваться файлами в локальной сети и скачивать видео для офлайн-просмотра.

---

#### **2. Функциональные возможности**
##### **2.1. Основные модули**
- **Текстовый редактор**:
  - Сохранение текста в формате `.txt` с автоматическим копированием в буфер обмена.
  - История сохраненных сообщений с возможностью поиска и восстановления.
  - Поддержка форматированного текста (через `pre`-теги) и подсветки синтаксиса для программистов.

- **Файловый менеджер**:
  - Загрузка файлов любого формата (с ограничением по размеру, если настроено).
  - Удаление и скачивание файлов через интерфейс.
  - Автоматическое открытие текстовых файлов в системном редакторе (например, Notepad).
  - Отображение метаданных: размер файла, дата создания.

- **YouTube-загрузчик**:
  - Скачивание видео в формате MP4 с выбором качества.
  - Отслеживание прогресса загрузки в реальном времени.
  - Автоматическое сохранение в указанную папку с генерацией ссылки для скачивания.

- **История действий**:
  - Логирование всех операций (сохранение текста, загрузка файлов).
  - Возможность восстановления предыдущих версий текста.
  - Фильтрация по дате и типу контента.

##### **2.2. Дополнительные функции**
- **Режим реального времени**:
  - Обновление списка сообщений и файлов без перезагрузки страницы через WebSocket.
  - Уведомления о завершении загрузки YouTube-видео.
  
- **Безопасность**:
  - Санитизация имен файлов (удаление запрещенных символов).
  - Защита от XSS-атак через экранирование HTML-сущностей.
  - Ограничение доступа по IP (настраивается в конфигурации).

- **Адаптивный интерфейс**:
  - Поддержка мобильных устройств и Retina-дисплеев.
  - Темная/светлая тема на основе системных настроек.

---

#### **3. Техническая архитектура**
##### **3.1. Бэкенд**
- **Язык и фреймворки**: Python 3.9+, Flask, Flask-SocketIO, SQLAlchemy.
- **База данных**: SQLite (для хранения метаданных файлов и сообщений).
- **Основные модули**:
  - **YouTubeService**: Обработка YouTube-запросов через библиотеку `yt-dlp`.
  - **FileService**: Управление файлами (загрузка, удаление, открытие).
  - **ConfigService**: Работа с настройками приложения (JSON-конфиг).
  - **LogService**: Логирование действий пользователей.

- **API-эндпоинты**:
  - `/api/save_text` — сохранение текста.
  - `/upload_file` — загрузка файлов.
  - `/youtube/download/start` — запуск загрузки видео.

##### **3.2. Фронтенд**
- **Технологии**: HTML5, CSS3 (с использованием CSS-переменных), Vanilla JavaScript.
- **Библиотеки**:
  - Socket.IO для реального обновления данных.
  - Font Awesome для иконок.
  - `yt-dlp` для интеграции с YouTube.
  
- **Структура**:
  - **Главная страница**: Текстовый редактор + панель управления.
  - **Модальные окна**: История, загрузка файлов, прогресс YouTube.
  - **Адаптивные компоненты**: Сворачивающиеся кнопки на мобильных устройствах.

##### **3.3. Инфраструктура**
- **Хранение данных**:
  - Тексты и файлы сохраняются в папку `ReceivedFiles` на рабочем столе.
  - YouTube-видео — в директорию `youtube_downloads`.
- **Сетевое взаимодействие**:
  - Сервер запускается на локальном IP с возможностью доступа из локальной сети.
  - Порт по умолчанию: `8080`.

---

#### **4. Пользовательский интерфейс**
##### **4.1. Визуальный дизайн**
- **Цветовая схема**: Минималистичная палитра с акцентом на синий и зеленый (основные цвета: `#2A5C8A`, `#32BEA6`).
- **Типографика**: Шрифт `Inter` для основного текста, `Fira Code` для редактора.
- **Анимации**:
  - Плавное появление модальных окон.
  - Эффекты наведения на кнопки.
  - Прогресс-бар для загрузки видео.

##### **4.2. Навигация**
- **Главное меню**: Быстрый доступ к истории, файлам и YouTube-загрузчику.
- **Горячие клавиши**:
  - `Ctrl + S` — сохранение текста.
  - `Enter` (без Shift) — отправка сообщения.
- **Контекстные подсказки**: Всплывающие уведомления о действиях (например, "Файл загружен!").

---

#### **5. Установка и запуск**
##### **5.1. Требования**
- ОС: Windows/Linux/macOS.
- Установленный Python 3.9+.
- Библиотеки: `flask`, `flask-socketio`, `yt-dlp`, `pyperclip`.

##### **5.2. Инструкция**
1. Клонировать репозиторий.
2. Установить зависимости:  
   ```bash
   pip install -r requirements.txt
   ```
3. Запустить сервер:  
   ```bash
   python run.py
   ```
4. Открыть в браузере: `http://localhost:8080`.

---

#### **6. Сценарии использования**
- **Для студентов**:
  - Сохранение лекций в текстовом формате с автоматическим копированием в буфер.
  - Скачивание образовательных видео с YouTube.
  
- **Для офисных работников**:
  - Обмен файлами внутри локальной сети без использования облачных сервисов.
  - Ведение истории изменений документов.

- **Для разработчиков**:
  - Быстрое тестирование сниппетов кода в изолированном редакторе.
  - Хранение технической документации.

---

#### **7. Преимущества и ограничения**
##### **7.1. Преимущества**
- **Локальность**: Данные не покидают устройство пользователя.
- **Простота**: Минимальные требования к ресурсам.
- **Кроссплатформенность**: Работает на любой ОС с Python.
- **Расширяемость**: Модульная структура кода позволяет добавлять новые функции.

##### **7.2. Ограничения**
- Нет облачной синхронизации.
- Ограниченная поддержка форматов видео (только MP4).
- Отсутствие многопользовательского режима.

---

#### **8. Перспективы развития**
- **Планируемые улучшения**:
  - Добавление авторизации через OAuth.
  - Поддержка Markdown в текстовом редакторе.
  - Интеграция с облачными хранилищами (Google Drive, Dropbox).
  
- **Долгосрочные цели**:
  - Реализация P2P-обмена файлами между пользователями.
  - Встроенный видеоплеер для просмотра скачанных роликов.

---

#### **9. Заключение**
**MakarTXT** — это универсальный инструмент для локального управления цифровым контентом, сочетающий простоту использования с мощными функциями. Он идеально подходит для пользователей, ценящих конфиденциальность и не желающих зависеть от облачных сервисов. Проект остается в активной разработке, с планами по расширению функционала и улучшению пользовательского опыта.